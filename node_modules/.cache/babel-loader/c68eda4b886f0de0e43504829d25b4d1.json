{"ast":null,"code":"import _defineProperty from \"E:\\\\ITI\\\\React\\\\project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"E:\\\\ITI\\\\React\\\\project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\ITI\\\\React\\\\project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\ITI\\\\React\\\\project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\ITI\\\\React\\\\project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\ITI\\\\React\\\\project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\ITI\\\\React\\\\project\\\\src\\\\components\\\\SignIn-SignUp\\\\SignUp_Form.js\";\nimport React from 'react';\nimport SimpleSchema from 'simpl-schema';\nimport { MyContext } from '../../App';\nimport { Form, Card } from 'react-bootstrap';\nimport { Button } from 'react-bootstrap';\nimport './Style.css';\n\nvar SignUp =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(SignUp, _React$PureComponent);\n\n  function SignUp() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SignUp);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SignUp)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      FName: '',\n      LName: '',\n      email: '',\n      password: '',\n      repeatedPassword: '',\n      image: '',\n      error: [{\n        name: '',\n        msg: ''\n      }]\n    };\n\n    _this.handleSubmit = function (existingUsers, addNewUser) {\n      return function (e) {\n        e.preventDefault();\n        var _this$state = _this.state,\n            FName = _this$state.FName,\n            LName = _this$state.LName,\n            email = _this$state.email,\n            password = _this$state.password,\n            repeatedPassword = _this$state.repeatedPassword,\n            image = _this$state.image;\n        var validationContext = new SimpleSchema({\n          FName: {\n            type: String,\n            min: 1,\n            regEx: /^[a-z-A-Z_]{1,15}$/\n          },\n          LName: {\n            type: String,\n            min: 1,\n            regEx: /^[a-z-A-Z_]{1,15}$/\n          },\n          email: SimpleSchema.RegEx.EmailWithTLD,\n          password: {\n            type: String,\n            min: 2\n          },\n          repeatedPassword: {\n            type: String,\n            min: 2\n          },\n          image: {\n            type: String,\n            defaultValue: 'N/A'\n          }\n        }).newContext();\n        validationContext.validate({\n          FName: FName,\n          LName: LName,\n          email: email,\n          password: password,\n          repeatedPassword: repeatedPassword,\n          image: image\n        }); // console.log(validationContext.validationErrors())\n\n        var errors = [];\n        validationContext.validationErrors().map(function (e) {\n          if (e.type == 'regEx' && e.name != 'email') errors.push({\n            name: e.name,\n            msg: 'must be charachters only'\n          });else if (e.type == 'regEx' && e.name == 'email' && e.value != '') errors.push({\n            name: e.name,\n            msg: 'email not valid'\n          });else if (e.name == 'email' && e.value == '') errors.push({\n            name: e.name,\n            msg: 'required'\n          });else errors.push({\n            name: e.name,\n            msg: 'required'\n          }); // this.setState({error:{name: e.name,msg:'must be charachters only'} })\n        });\n        var user = existingUsers.find(function (element) {\n          if (element.email === email) return element;\n        });\n        if (user != undefined) errors.push({\n          name: 'email',\n          msg: 'email already used'\n        });\n        if (repeatedPassword != password) errors.push({\n          name: 'repeatedPassword',\n          msg: 'Not matched with password'\n        });\n\n        _this.setState({\n          error: errors\n        }, function () {\n          if (_this.state.error.length == 0) {\n            var newUser = {\n              FName: FName,\n              LName: LName,\n              email: email,\n              password: password,\n              image: image,\n              Admin: false,\n              all: [],\n              read: [],\n              reading: [],\n              wantToRead: []\n            };\n            addNewUser(newUser);\n            alert('Done');\n\n            _this.setState({\n              FName: '',\n              LName: '',\n              email: '',\n              password: '',\n              repeatedPassword: '',\n              image: ''\n            });\n          }\n        });\n      };\n    };\n\n    _this.handleChange = function (e) {\n      e.preventDefault();\n      var key = e.target.name;\n      var value = e.target.value;\n\n      _this.setState(_defineProperty({}, key, value));\n    };\n\n    return _this;\n  }\n\n  _createClass(SignUp, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(MyContext.Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, function (value) {\n        return React.createElement(\"div\", {\n          style: {\n            height: '-webkit-fill-available'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, React.createElement(Card, {\n          className: \"SideQuote\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, React.createElement(Card.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, React.createElement(\"blockquote\", {\n          className: \"blockquote mb-0\",\n          style: {\n            fontSize: '50px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, ' ', \"A book like a garden, carried in the pocket\", ' '), React.createElement(\"footer\", {\n          className: \"blockquote-footer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, React.createElement(\"cite\", {\n          title: \"Source Title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, \"Chinese proverb\"))))), React.createElement(Form, {\n          className: \"SignUp_form\",\n          onSubmit: _this2.handleSubmit(value.state.users, value.addNewUser),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, React.createElement(Form.Text, {\n          className: \"text-muted SignUp_form-text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, \"New Here? Create a free account!\"), React.createElement(Form.Group, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, React.createElement(Form.Control, {\n          type: \"text\",\n          name: \"FName\",\n          placeholder: \"First name\",\n          value: _this2.state.FName,\n          onChange: _this2.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }), React.createElement(Form.Text, {\n          style: {\n            color: 'Red'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, _this2.state.error.map(function (e) {\n          if (e.name == 'FName') return e.msg;\n        }))), React.createElement(Form.Group, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, React.createElement(Form.Control, {\n          type: \"text\",\n          name: \"LName\",\n          placeholder: \"Last name\",\n          value: _this2.state.LName,\n          onChange: _this2.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }), React.createElement(Form.Text, {\n          style: {\n            color: 'Red'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, _this2.state.error.map(function (e) {\n          if (e.name == 'LName') return e.msg;\n        }))), React.createElement(Form.Group, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, React.createElement(Form.Control, {\n          type: \"text\",\n          name: \"email\",\n          placeholder: \"Enter email\",\n          value: _this2.state.email,\n          onChange: _this2.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }), React.createElement(Form.Text, {\n          style: {\n            color: 'Red'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, _this2.state.error.map(function (e) {\n          if (e.name == 'email') return e.msg;\n        }))), React.createElement(Form.Group, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }, React.createElement(Form.Control, {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"Password\",\n          value: _this2.state.password,\n          onChange: _this2.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }), React.createElement(Form.Text, {\n          style: {\n            color: 'Red'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, _this2.state.error.map(function (e) {\n          if (e.name == 'password') return e.msg;\n        }))), React.createElement(Form.Group, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, React.createElement(Form.Control, {\n          type: \"password\",\n          name: \"repeatedPassword\",\n          placeholder: \"Retype Password\",\n          value: _this2.state.repeatedPassword,\n          onChange: _this2.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }), React.createElement(Form.Text, {\n          style: {\n            color: 'Red'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, _this2.state.error.map(function (e) {\n          if (e.name == 'repeatedPassword') return e.msg;\n        }))), React.createElement(Form.Group, {\n          style: {\n            display: 'flex'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, React.createElement(Form.Control, {\n          type: \"file\",\n          name: \"image\",\n          placeholder: \"upload Image\",\n          className: \"ImageUpload \",\n          value: _this2.state.image,\n          onChange: _this2.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }), React.createElement(Form.Text, {\n          style: {\n            color: 'Red'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, _this2.state.error.map(function (e) {\n          if (e.name == 'image') return e.msg;\n        }))), React.createElement(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          className: \"SignUp_form-btn\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, \"Sign up\")));\n      });\n    }\n  }]);\n\n  return SignUp;\n}(React.PureComponent);\n\nexport default SignUp;","map":{"version":3,"sources":["E:\\ITI\\React\\project\\src\\components\\SignIn-SignUp\\SignUp_Form.js"],"names":["React","SimpleSchema","MyContext","Form","Card","Button","SignUp","state","FName","LName","email","password","repeatedPassword","image","error","name","msg","handleSubmit","existingUsers","addNewUser","e","preventDefault","validationContext","type","String","min","regEx","RegEx","EmailWithTLD","defaultValue","newContext","validate","errors","validationErrors","map","push","value","user","find","element","undefined","setState","length","newUser","Admin","all","read","reading","wantToRead","alert","handleChange","key","target","height","fontSize","users","color","display","PureComponent"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport SimpleSchema from 'simpl-schema';\r\nimport { MyContext } from '../../App';\r\nimport { Form,Card } from 'react-bootstrap';\r\nimport { Button } from 'react-bootstrap';\r\nimport './Style.css';\r\n\r\nclass SignUp extends React.PureComponent {\r\n    state = {\r\n        FName: '' ,\r\n        LName:'' ,\r\n        email: '',\r\n        password:'' ,\r\n        repeatedPassword: '',\r\n        image:'',\r\n        error:[{name:'',msg:''}]\r\n    }\r\n    handleSubmit=(existingUsers,addNewUser) => (e) => {\r\n        e.preventDefault();\r\n        const { FName, LName, email, password, repeatedPassword, image } = this.state;\r\n        const validationContext = new SimpleSchema({\r\n            FName: { type: String, min: 1, regEx: /^[a-z-A-Z_]{1,15}$/ },\r\n            LName: { type: String, min: 1,  regEx: /^[a-z-A-Z_]{1,15}$/ },\r\n            email: SimpleSchema.RegEx.EmailWithTLD ,\r\n            password: { type: String, min: 2 },\r\n            repeatedPassword:{ type: String, min: 2 },\r\n            image: { type: String, defaultValue: 'N/A' }\r\n        }).newContext();\r\n\r\n        validationContext.validate({ FName, LName, email, password, repeatedPassword, image });\r\n        // console.log(validationContext.validationErrors())\r\n       const errors=[];\r\n        validationContext.validationErrors().map(e=>{\r\n            if(e.type=='regEx' && e.name!='email')\r\n            errors.push({name: e.name,msg:'must be charachters only'})\r\n            else if(e.type=='regEx' && e.name=='email' && e.value!='')\r\n            errors.push({name: e.name,msg:'email not valid'})\r\n            else if (e.name=='email' && e.value=='')\r\n            errors.push({name: e.name,msg:'required'})\r\n            else\r\n            errors.push({name: e.name,msg:'required'})\r\n            // this.setState({error:{name: e.name,msg:'must be charachters only'} })\r\n        });\r\n        const user=existingUsers.find(element => {\r\n            if( element.email===email)\r\n              return element;\r\n         }) \r\n         if(user!=undefined)\r\n         errors.push({name:'email',msg:'email already used'})\r\n\r\n        if(repeatedPassword!=password)\r\n        \r\n        errors.push({name:'repeatedPassword',msg:'Not matched with password'})\r\n        this.setState({error: errors},()=>{\r\n            if(this.state.error.length==0)\r\n            {\r\n                const newUser={FName,LName,email,password,image,Admin: false,all:[],read:[],reading:[],wantToRead:[]};\r\n                addNewUser(newUser);\r\n                alert('Done');\r\n                this.setState({FName:'',LName:'',email:'',password:'',repeatedPassword:'',image:''})\r\n            }\r\n        })\r\n    }\r\n    handleChange = (e) => {\r\n        e.preventDefault();\r\n        const key = e.target.name;\r\n        const value = e.target.value;\r\n        this.setState({ [key]: value });\r\n    }\r\n    render() {\r\n        return (\r\n            <MyContext.Consumer>\r\n\r\n            {value =>\r\n                (\r\n            <div style={{ height: '-webkit-fill-available' }}>\r\n                <Card className='SideQuote'>\r\n                <Card.Body>\r\n                    <blockquote className=\"blockquote mb-0\" style={{fontSize:'50px'}}>\r\n                    <p>\r\n                        {' '}\r\n                        A book like a garden, carried in the pocket{' '}\r\n                    </p>\r\n                    <footer className=\"blockquote-footer\">\r\n                        <cite title=\"Source Title\">Chinese proverb</cite>\r\n                    </footer>\r\n                    </blockquote>\r\n                </Card.Body>\r\n                </Card>\r\n                <Form className='SignUp_form' onSubmit={this.handleSubmit(value.state.users,value.addNewUser)}>\r\n                    <Form.Text className=\"text-muted SignUp_form-text\">\r\n                        New Here? Create a free account!\r\n                    </Form.Text>\r\n                    <Form.Group>\r\n                        <Form.Control  type=\"text\" name='FName' placeholder=\"First name\" value={this.state.FName} onChange={this.handleChange} />\r\n                        <Form.Text style={{color: 'Red'}}>{\r\n                                  this.state.error.map(e=> {\r\n                                      if(e.name=='FName')\r\n                                      return e.msg\r\n                                  })\r\n                                    }\r\n                        </Form.Text>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group>\r\n                        <Form.Control type=\"text\" name='LName' placeholder=\"Last name\" value={this.state.LName} onChange={this.handleChange} />\r\n                        <Form.Text style={{color: 'Red'}}>{\r\n                                  this.state.error.map(e=> {\r\n                                      if(e.name=='LName')\r\n                                      return e.msg\r\n                                  })\r\n                                    }\r\n                        </Form.Text>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group>\r\n                        <Form.Control type=\"text\" name='email' placeholder=\"Enter email\" value={this.state.email} onChange={this.handleChange} />\r\n                        <Form.Text style={{color: 'Red'}}>{\r\n                                  this.state.error.map(e=> {\r\n                                      if(e.name=='email')\r\n                                      return e.msg\r\n                                  })\r\n                                    }\r\n                        </Form.Text>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group >\r\n                        <Form.Control type=\"password\" name='password' placeholder=\"Password\" value={this.state.password} onChange={this.handleChange} />\r\n                        <Form.Text style={{color: 'Red'}}>{\r\n                                  this.state.error.map(e=> {\r\n                                      if(e.name=='password')\r\n                                      return e.msg\r\n                                  })\r\n                                    }\r\n                        </Form.Text>\r\n                    </Form.Group>\r\n                    <Form.Group >\r\n                        <Form.Control type=\"password\" name='repeatedPassword' placeholder=\"Retype Password\" value={this.state.repeatedPassword} onChange={this.handleChange} />\r\n                        <Form.Text style={{color: 'Red'}}>{\r\n                                  this.state.error.map(e=> {\r\n                                      if(e.name=='repeatedPassword')\r\n                                      return e.msg\r\n                                  })\r\n                                    }\r\n                        </Form.Text>\r\n                    </Form.Group>\r\n                    <Form.Group style={{ display: 'flex' }}>\r\n                        <Form.Control  type=\"file\" name='image' placeholder=\"upload Image\" className=\"ImageUpload \" value={this.state.image} onChange={this.handleChange} />\r\n                        <Form.Text style={{color: 'Red'}}>{\r\n                                  this.state.error.map(e=> {\r\n                                      if(e.name=='image')\r\n                                      return e.msg\r\n                                  })\r\n                                    }\r\n                        </Form.Text>\r\n                        \r\n                    </Form.Group>\r\n                    <Button variant=\"primary\" type=\"submit\" className='SignUp_form-btn'>\r\n                        Sign up\r\n                    </Button>\r\n                </Form>\r\n            </div>\r\n              )\r\n            }\r\n        </MyContext.Consumer>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}